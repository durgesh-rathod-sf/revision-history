/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x1d55b7 from'./basesuggestionthreadview';import _0x2071f3 from'@ckeditor/ckeditor5-collaboration-core/src/users/view/userview';import{ButtonView as _0x196e73}from'ckeditor5/src/ui';import{icons as _0x3ca3c6}from'ckeditor5/src/core';import _0x148c82 from'@ckeditor/ckeditor5-comments/src/utils/trim-html';export default class Tt extends _0x1d55b7{constructor(_0x12cb46,_0x55eed0,_0xa372cb,_0x20b3f8){super(_0x12cb46,_0x55eed0,_0xa372cb,_0x20b3f8);const {t:t}=_0x12cb46;this['set']('type',''),this['bind']('type')['to'](this,'descriptionParts',_0x29059d=>_0x29059d&&_0x29059d[0x0]?_0x29059d[0x0]['type']:''),this['bind']('description')['to'](this,'descriptionParts',this,'isActive',(_0xe7d2dc,_0x202855)=>{let _0xb91f0c='';for(const _0x3f5239 of _0xe7d2dc)_0xb91f0c+='<p>'+as(_0x3f5239['content'],_0x3f5239['color'])+'</p>';return _0x202855?_0xb91f0c:_0x148c82(_0xb91f0c,{'limit':0x8c});}),this['_descriptionElement']=null,this['acceptButton']=this['_createButton'](t('Accept\x20suggestion'),_0x3ca3c6['check'],'ck-suggestion--accept','acceptSuggestion'),this['discardButton']=this['_createButton'](t('Discard\x20suggestion'),_0x3ca3c6['cancel'],'ck-suggestion--discard','discardSuggestion'),this['userView']=new _0x2071f3(_0x12cb46,this['_model']['author']),this['userView']['extendTemplate']({'attributes':{'class':['ck-suggestion__user','ck-annotation__user']}}),this['setTemplate'](this['getTemplate']());}['getTemplate'](){const _0x26554d=this['bindTemplate'],_0x3fbd2c={'tag':'div','attributes':{'class':['ck-suggestion-wrapper',_0x26554d['if']('isActive','ck-suggestion-wrapper--active'),_0x26554d['to']('type',_0x25b637=>'ck-suggestion-'+_0x25b637),this['_config']['disableComments']&&'ck-suggestion--disabled-comments'],'data-suggestion-id':this['_model']['id'],'data-thread-id':this['_model']['commentThread']['id'],'data-author-id':this['_model']['author']['id'],'tabindex':-0x1},'children':[{'tag':'div','attributes':{'class':['ck-suggestion','ck-annotation']},'children':[this['userView'],{'tag':'div','attributes':{'class':['ck-suggestion__main','ck-annotation__main']},'children':[{'tag':'div','attributes':{'class':['ck-suggestion__info','ck-annotation__info']},'children':[{'tag':'span','children':[{'text':this['userView']['name']}],'attributes':{'class':['ck-suggestion__info-name','ck-annotation__info-name']}},{'tag':'time','attributes':{'datetime':_0x26554d['to']('createdAt'),'class':['ck-comment__info-time','ck-annotation__info-time']},'children':[{'text':_0x26554d['to']('createdAt',_0xb4c971=>this['_config']['formatDateTime'](_0xb4c971))}]}]},{'tag':'div','attributes':{'class':['ck-suggestion__actions','ck-annotation__actions']},'children':[this['acceptButton'],this['discardButton']]},{'tag':'div','attributes':{'class':['ck-annotation__content-wrapper']}}]}]}]};return this['commentsListView']&&this['commentThreadInputView']&&_0x3fbd2c['children']['push'](this['commentsListView'],this['commentThreadInputView']),_0x3fbd2c;}['render'](){super['render'](),this['_descriptionElement']=this['element']['querySelector']('.ck-annotation__content-wrapper'),this['_descriptionElement']['innerHTML']=this['description'],this['on']('change:description',(_0x4fb8b5,_0x579330,_0x3a67e4)=>{this['_descriptionElement']['innerHTML']=_0x3a67e4;});}['_createButton'](_0x5d8225,_0x4cbdc5,_0x41e9ec,_0x2c4d68){const _0x28762a=new _0x196e73(this['locale']);return _0x28762a['set']({'label':_0x5d8225,'icon':_0x4cbdc5,'tooltip':!0x0}),_0x28762a['extendTemplate']({'attributes':{'class':_0x41e9ec}}),_0x28762a['on']('execute',()=>{this['fire'](_0x2c4d68,this['_model']['id']);}),_0x28762a['bind']('isEnabled')['to'](this),_0x28762a;}}function as(_0x54cf37,_0x90e7f8){let _0x3cb14b='';return _0x3cb14b+=_0x54cf37['split']('*')['map']((_0xe95f3a,_0x1f635c)=>_0x1f635c%0x2!=0x0?'<span\x20class=\x22ck-suggestion-type\x22>'+rs(_0xe95f3a)+'</span>':rs(_0xe95f3a))['join'](''),_0x90e7f8&&(_0x3cb14b+='<span\x20class=\x22ck-suggestion-color\x22\x20style=\x22background-color:\x20'+_0x90e7f8['value']+'\x22\x20title=\x22'+_0x90e7f8['title']+'\x22></span>'),_0x3cb14b;}function rs(_0x43d042){const _0x2bcf5b=document['createElement']('span');return _0x2bcf5b['innerText']=_0x43d042,_0x2bcf5b['innerHTML'];}