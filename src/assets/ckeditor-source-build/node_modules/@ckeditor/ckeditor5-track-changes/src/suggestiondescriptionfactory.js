/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
export default class c{constructor(_0x3f8371,_0xf4d594){this['_customCallbacks']=[],this['_itemLabels']=new Map(),this['_schema']=_0x3f8371,this['_locale']=_0xf4d594;}['getDescriptions'](_0x44a0f9){const _0x26b6e9=[];for(let _0x200c3d=0x0;_0x200c3d<_0x44a0f9['length'];_0x200c3d++){const _0x7d516f=_0x44a0f9[_0x200c3d];if(!_0x7d516f['isInContent'])continue;let _0x58e49c=!0x1;for(const _0x43a8dd of this['_customCallbacks']){const _0x4f7870=_0x43a8dd(_0x7d516f);if(_0x4f7870){_0x4f7870['type']&&_0x26b6e9['push'](_0x4f7870),_0x58e49c=!0x0;break;}}if(!_0x58e49c){this['_addDescriptionItems'](_0x26b6e9,_0x7d516f);const _0x432364=_0x44a0f9[_0x200c3d+0x1];if(_0x432364&&!_0x7d516f['getFirstRange']()['end']['isEqual'](_0x432364['getFirstRange']()['start'])){const _0x576208=_0x26b6e9[_0x26b6e9['length']-0x1],_0x619829='insertion'==_0x7d516f['type']?'add':'remove';_0x576208&&'text'==_0x576208['type']&&(_0x576208[_0x619829]+='\x0a');}}}return this['_resolveDescriptionItems'](_0x26b6e9);}['registerDescriptionCallback'](_0x246be4){this['_customCallbacks']['push'](_0x246be4);}['registerElementLabel'](_0x1ec21a,_0x174a9e){this['_itemLabels']['set'](_0x1ec21a,_0x174a9e);}['getItemLabel'](_0x3b2d98,_0x86c255=0x1){const _0x50cfdf=this['_itemLabels']['get'](_0x3b2d98)||_0x3b2d98;return'function'==typeof _0x50cfdf?_0x50cfdf(_0x86c255):0x1!==_0x86c255?_0x86c255+'\x20'+_0x50cfdf+'s':''+_0x50cfdf;}['_addDescriptionItems'](_0x403f15,_0x131b19){const _0x25ff90=_0x131b19['getFirstRange']()['getWalker'](),_0x1e6044='insertion'==_0x131b19['type']?'add':'remove';for(const _0xd07294 of _0x25ff90){const _0x2c553a=_0xd07294['item'],_0x1a8bc9=_0x403f15[_0x403f15['length']-0x1];if(_0x2c553a['is']('textProxy'))_0x1a8bc9&&_0x1a8bc9['type']['indexOf']('Container')>-0x1&&_0x403f15['pop'](),_0x1a8bc9&&'text'==_0x1a8bc9['type']?_0x1a8bc9[_0x1e6044]+=_0x2c553a['data']:_0x403f15['push']({'type':'text','add':'add'==_0x1e6044?_0x2c553a['data']:'','remove':'remove'==_0x1e6044?_0x2c553a['data']:''});else{if(this['_schema']['isObject'](_0x2c553a)){if(_0x1a8bc9&&_0x1a8bc9['type']['indexOf']('Container')>-0x1&&_0x403f15['pop'](),'elementEnd'==_0xd07294['type'])continue;_0x1a8bc9&&_0x1a8bc9['type']==_0x1e6044+'Object'&&_0x1a8bc9['name']==_0x2c553a['name']?_0x1a8bc9['quantity']++:_0x403f15['push']({'type':_0x1e6044+'Object','name':_0x2c553a['name'],'quantity':0x1}),_0x25ff90['skip'](_0x4e0cee=>!('elementEnd'==_0x4e0cee['type']&&_0x4e0cee['item']==_0x2c553a));}else{if(this['_schema']['checkChild'](_0x2c553a,'$text')||_0x2c553a['is']('element','softBreak')){if('add'==_0x1e6044&&'elementStart'==_0xd07294['type']||'remove'==_0x1e6044&&'elementEnd'==_0xd07294['type'])continue;if(_0x1a8bc9&&-0x1==_0x1a8bc9['type']['indexOf']('Container')){'text'==_0x1a8bc9['type']&&(_0x1a8bc9[_0x1e6044]+='\x0a');continue;}let _0x388d45;if(_0x388d45='add'==_0x1e6044?_0x2c553a['nextSibling']&&!this['_schema']['isObject'](_0x2c553a['nextSibling'])?_0x2c553a['nextSibling']:null:_0x2c553a['previousSibling']&&!this['_schema']['isObject'](_0x2c553a['previousSibling'])?_0x2c553a['previousSibling']:null,_0x2c553a['isEmpty']||_0x388d45&&_0x388d45['isEmpty']){const _0x303923=_0x388d45&&_0x388d45['isEmpty']?_0x388d45['name']:_0x2c553a['name'];_0x1a8bc9&&_0x1a8bc9['type']==_0x1e6044+'EmptyContainer'&&_0x1a8bc9['name']==_0x303923?_0x1a8bc9['quantity']++:_0x403f15['push']({'type':_0x1e6044+'EmptyContainer','name':_0x303923,'quantity':0x1});}else _0x403f15['push']({'type':_0x1e6044+'Container','name':_0x2c553a['name']});}}}}}['_resolveDescriptionItems'](_0xa71623){const {t:t}=this['_locale'],_0x10ece7=[];for(const _0x201edb of _0xa71623){switch(_0x201edb['type']){case'text':if(_0x201edb['add']=_0x201edb['add']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),_0x201edb['remove']=_0x201edb['remove']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),''!=_0x201edb['add']&&''!=_0x201edb['remove']){_0x10ece7['push']({'type':'replace','content':t({'string':'*Replace:*\x20%0\x20*with*\x20%1','id':'REPLACE_TEXT'},['\x22'+_0x201edb['remove']+'\x22','\x22'+_0x201edb['add']+'\x22'])});continue;}if(null!=_0x201edb['add']['match'](/^ +$/)){_0x10ece7['push']({'type':'insertion','content':t('*Insert:*\x20%0',t({'string':'space','plural':'%0\x20spaces','id':'ELEMENT_SPACE'},_0x201edb['add']['length']))});continue;}if(null!=_0x201edb['remove']['match'](/^ +$/)){_0x10ece7['push']({'type':'deletion','content':t('*Remove:*\x20%0',t({'string':'space','plural':'%0\x20spaces','id':'ELEMENT_SPACE'},_0x201edb['remove']['length']))});continue;}if(''!=_0x201edb['add']){_0x10ece7['push']({'type':'insertion','content':t('*Insert:*\x20%0','\x22'+_0x201edb['add']+'\x22')});continue;}_0x10ece7['push']({'type':'deletion','content':t('*Remove:*\x20%0','\x22'+_0x201edb['remove']+'\x22')});continue;case'addEmptyContainer':case'addObject':_0x10ece7['push']({'type':'insertion','content':t('*Insert:*\x20%0',this['getItemLabel'](_0x201edb['name'],_0x201edb['quantity']))});continue;case'removeEmptyContainer':case'removeObject':_0x10ece7['push']({'type':'deletion','content':t('*Remove:*\x20%0',this['getItemLabel'](_0x201edb['name'],_0x201edb['quantity']))});continue;case'addContainer':_0x10ece7['push']({'type':'insertion','content':t('*Split:*\x20%0',this['getItemLabel'](_0x201edb['name'],_0x201edb['quantity']))});continue;case'removeContainer':_0x10ece7['push']({'type':'deletion','content':t('*Merge:*\x20%0',this['getItemLabel'](_0x201edb['name'],_0x201edb['quantity']))});continue;}_0x10ece7['push'](_0x201edb);}return _0x10ece7;}}