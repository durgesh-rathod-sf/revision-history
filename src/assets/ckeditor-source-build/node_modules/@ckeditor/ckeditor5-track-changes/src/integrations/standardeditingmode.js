/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x231d0e}from'ckeditor5/src/core';import{getRangesWithAttribute as Rt}from'./utils';export default class ct extends _0x231d0e{['afterInit'](){const _0x597b41=this['editor'],_0x397133=_0x597b41['model'];if(!_0x597b41['plugins']['has']('StandardEditingModeEditing'))return;const _0x48338b=_0x597b41['plugins']['get']('TrackChangesEditing'),_0x4616a0='restrictedEditingException',_0x425730=_0x597b41['commands']['get'](_0x4616a0);_0x48338b['enableCommand'](_0x4616a0,(_0x5c8715,_0x1e8c10={})=>{const _0x44f9ea=_0x397133['document']['selection'];if(_0x44f9ea['isCollapsed'])return void _0x5c8715(_0x1e8c10);const _0x208440=void 0x0!==_0x1e8c10['forceValue']?_0x1e8c10['forceValue']:!_0x425730['value'];_0x397133['change'](()=>{const _0x35c26a=Array['from'](_0x44f9ea['getRanges']());for(const _0x292fdc of _0x35c26a){const _0x50d082=_0x208440?[_0x292fdc]:Rt(_0x4616a0,_0x292fdc,_0x397133);for(const _0x14a018 of _0x50d082)_0x48338b['markInlineFormat'](_0x14a018,{'commandName':_0x4616a0,'commandParams':[{'forceValue':_0x208440}]});}});});const t=_0x597b41['t'];_0x48338b['_descriptionFactory']['registerDescriptionCallback'](_0x20ae28=>{const {data:_0x28b603}=_0x20ae28;if(_0x28b603&&_0x28b603['commandName']==_0x4616a0)return _0x28b603['commandParams'][0x0]['forceValue']?{'type':'format','content':t({'string':'*Enable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_ENABLED'})}:{'type':'format','content':t({'string':'*Disable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_DISABLED'})};});}}