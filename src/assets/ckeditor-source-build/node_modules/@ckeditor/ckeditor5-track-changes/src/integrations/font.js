/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x36f48f}from'ckeditor5/src/core';import{normalizeColorOptions as Ht}from'ckeditor5/src/ui';import{normalizeOptions as Jt}from'@ckeditor/ckeditor5-font/src/fontsize/utils';import{getRangesWithAttribute as Rt}from'./utils';const Xt=[{'pluginName':'FontSizeEditing','commandName':'fontSize'},{'pluginName':'FontFamilyEditing','commandName':'fontFamily'},{'pluginName':'FontColorEditing','commandName':'fontColor'},{'pluginName':'FontBackgroundColorEditing','commandName':'fontBackgroundColor'}];export default class z extends _0x36f48f{['afterInit'](){const {t:t}=this['editor']['locale'];for(const {pluginName:_0x4c771e,commandName:_0x4ca142}of Xt)this['editor']['plugins']['has'](_0x4c771e)&&this['_enableCommand'](_0x4ca142);this['editor']['plugins']['get']('TrackChangesEditing')['_descriptionFactory']['registerDescriptionCallback'](_0x14eb72=>{const {data:_0x2bb532}=_0x14eb72;if(null!=_0x2bb532){if('fontSize'==_0x2bb532['commandName']){const _0x21e73b=_0x2bb532['commandParams'][0x0]['value'];if(_0x21e73b){const _0x3146c5=Jt(this['editor']['config']['get']('fontSize.options'))['find'](_0x4df6fe=>_0x4df6fe['model']==_0x21e73b)['title'],_0x2a61e3=this['editor']['locale']['_t'](_0x3146c5)['toLowerCase']();return{'type':'format','content':t('*Set\x20font\x20size:*\x20%0',_0x2a61e3)};}return{'type':'format','content':t('*Reset\x20font\x20size*')};}if('fontFamily'==_0x2bb532['commandName']){const _0x3c23e0=_0x2bb532['commandParams'][0x0]['value'];return _0x3c23e0?{'type':'format','content':t('*Set\x20font\x20family:*\x20%0',_0x3c23e0)}:{'type':'format','content':t('*Reset\x20font\x20family*')};}if('fontColor'==_0x2bb532['commandName']){const _0x54bff0=_0x2bb532['commandParams'][0x0]['value'];if(_0x54bff0){const _0x55be4e=Ht(this['editor']['config']['get']('fontColor.colors'))['find'](_0x90ad62=>_0x90ad62['model']==_0x54bff0);let _0x12ecb3=_0x54bff0,_0x4e0a38='';return _0x55be4e&&(_0x12ecb3=_0x55be4e['label'],_0x4e0a38=this['editor']['locale']['_t'](_0x12ecb3)['toLowerCase']()),{'type':'format','content':t('*Set\x20font\x20color:*\x20%0',_0x4e0a38)['trim'](),'color':{'value':_0x54bff0,'title':_0x4e0a38||_0x12ecb3}};}return{'type':'format','content':t('*Reset\x20font\x20color*')};}if('fontBackgroundColor'==_0x2bb532['commandName']){const _0x5eacf2=_0x2bb532['commandParams'][0x0]['value'];if(_0x5eacf2){const _0x4583c2=Ht(this['editor']['config']['get']('fontBackgroundColor.colors'))['find'](_0x17b5d7=>_0x17b5d7['model']==_0x5eacf2);let _0x1639b4=_0x5eacf2,_0x4d968d='';return _0x4583c2&&(_0x1639b4=_0x4583c2['label'],_0x4d968d=this['editor']['locale']['_t'](_0x1639b4)['toLowerCase']()),{'type':'format','content':t('*Set\x20font\x20background\x20color:*\x20%0',_0x4d968d)['trim'](),'color':{'value':_0x5eacf2,'title':_0x4d968d||_0x1639b4}};}return{'type':'format','content':t('*Reset\x20font\x20background\x20color*')};}}});}['_enableCommand'](_0x2948d7){const _0x104255=this['editor'];_0x104255['plugins']['get']('TrackChangesEditing')['enableCommand'](_0x2948d7,(_0x2a4d4e,_0x2468e7={})=>{const _0x35c854=_0x104255['model']['document']['selection'],_0xc08a33=_0x2468e7['value'];_0x35c854['isCollapsed']?_0x2a4d4e(_0x2468e7):_0x104255['model']['change'](()=>{const _0x5248b6=Array['from'](_0x35c854['getRanges']());for(const _0x4216cf of _0x5248b6){const _0x45322f=_0xc08a33?[_0x4216cf]:Rt(_0x2948d7,_0x4216cf,_0x104255['model']);for(const _0x3ba1bc of _0x45322f)_0x104255['plugins']['get']('TrackChangesEditing')['markInlineFormat'](_0x3ba1bc,{'commandName':_0x2948d7,'commandParams':[{'value':_0xc08a33}]});}});});}}