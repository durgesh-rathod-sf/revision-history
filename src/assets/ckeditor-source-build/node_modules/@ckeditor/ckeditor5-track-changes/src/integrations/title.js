/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x19fda8}from'ckeditor5/src/core';export default class lt extends _0x19fda8{['afterInit'](){const _0x1c631c=this['editor'],t=_0x1c631c['t'];if(!_0x1c631c['plugins']['has']('Title'))return;const _0xfca28b=_0x1c631c['plugins']['get']('TrackChangesEditing');_0xfca28b['_descriptionFactory']['registerElementLabel']('title-content',()=>t({'id':'ELEMENT_TITLE','string':'title'})),_0x1c631c['model']['document']['registerPostFixer'](_0x1c1ba0=>{let _0x7e9fa=!0x1;const _0x399d80=Array['from'](_0x1c631c['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x54e4d9,data:_0x5397fb}of _0x399d80){const {group:_0x10d67d}=_0xfca28b['_splitMarkerName'](_0x54e4d9);if('suggestion'!==_0x10d67d||!_0x5397fb['newRange'])continue;const _0x2d07fc=_0x5397fb['newRange'],_0x168f2a=_0x2d07fc['end']['nodeBefore'];if(!_0x168f2a||!_0x168f2a['is']('element','title-content'))continue;if(!_0x2d07fc['start']['isTouching'](_0x2d07fc['end']))continue;const _0x35c0e9=_0x1c631c['model']['schema']['getNearestSelectionRange'](_0x2d07fc['end'],'forward');if(_0x35c0e9&&_0x35c0e9['isCollapsed']){const _0x59c04a=_0x1c1ba0['createRange'](_0x2d07fc['start'],_0x35c0e9['start']);_0x59c04a['isEqual'](_0x2d07fc)||(_0x1c1ba0['updateMarker'](_0x54e4d9,{'range':_0x59c04a}),_0x7e9fa=!0x0);}_0x7e9fa||(_0x1c1ba0['removeMarker'](_0x54e4d9),_0x7e9fa=!0x0);}return _0x7e9fa;});}}