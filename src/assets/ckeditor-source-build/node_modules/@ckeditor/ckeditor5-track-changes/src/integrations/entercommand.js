/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4bde=['enter','requires','editing','isAtStart','isLimit','unbindElementFromMarkerName','end','nextSibling','model','markerName','TrackChangesEditing','ck-suggestion-marker-split','createPositionAt','downcastDispatcher','mapper','createRange','high','isCollapsed','markInsertion','setSelection','removeMarker:suggestion:insertion','getFirstPosition','start','split','writer','document','init','addMarker:suggestion:insertion','change','parent','plugins','getFirstRange','markerNameToElements','get','data','remove'];(function(_0x211fa6,_0x4bde07){const _0x2b2d4a=function(_0x17f459){while(--_0x17f459){_0x211fa6['push'](_0x211fa6['shift']());}};_0x2b2d4a(++_0x4bde07);}(_0x4bde,0xef));const _0x2b2d=function(_0x211fa6,_0x4bde07){_0x211fa6=_0x211fa6-0x0;let _0x2b2d4a=_0x4bde[_0x211fa6];return _0x2b2d4a;};import{Plugin as _0x3ae3f7}from'ckeditor5/src/core';import{Enter as _0x21863f}from'ckeditor5/src/enter';import{LiveRange as _0x405585}from'ckeditor5/src/engine';import{downcastSplitMergeMarker as _0x22de63}from'./utils';export default class W extends _0x3ae3f7{static get[_0x2b2d('0xe')](){return[_0x21863f];}[_0x2b2d('0x3')](){const _0x327094=this['editor'],_0x1af930=_0x327094[_0x2b2d('0x7')][_0x2b2d('0xa')](_0x2b2d('0x17'));_0x1af930['enableCommand'](_0x2b2d('0xd'),_0x3b5c15=>{_0x327094[_0x2b2d('0x15')][_0x2b2d('0x5')](_0x319f6f=>{const _0xf6e59b=_0x327094['model'][_0x2b2d('0x2')]['selection'],_0x88de70=_0xf6e59b[_0x2b2d('0x22')](),_0x38a170=_0xf6e59b[_0x2b2d('0x1e')],_0x273d02=_0x405585['fromRange'](_0xf6e59b[_0x2b2d('0x8')]()),_0xeef2d9=_0x273d02[_0x2b2d('0x23')][_0x2b2d('0x6')],_0x484682=_0x273d02[_0x2b2d('0x13')][_0x2b2d('0x6')],_0x280ee3=!(_0x273d02['start'][_0x2b2d('0x10')]&&_0x273d02[_0x2b2d('0x13')]['isAtEnd']),_0x1d09b4=_0xeef2d9==_0x484682,_0x3330e1=!(_0x327094[_0x2b2d('0x15')]['schema'][_0x2b2d('0x11')](_0xeef2d9)||_0x327094[_0x2b2d('0x15')]['schema'][_0x2b2d('0x11')](_0x484682))&&(_0x38a170||_0x280ee3&&_0x1d09b4);if(_0x3b5c15(),_0x3330e1){const _0x3d390b=_0x327094[_0x2b2d('0x15')][_0x2b2d('0x19')](_0x88de70['parent'][_0x2b2d('0x14')],0x0),_0x2f15db=_0x319f6f[_0x2b2d('0x1c')](_0x88de70,_0x3d390b);_0x1af930[_0x2b2d('0x1f')](_0x2f15db);}else _0x319f6f[_0x2b2d('0x20')](_0x319f6f['createRange'](_0x273d02['end']));_0x273d02['detach']();});}),_0x327094['editing']['downcastDispatcher']['on'](_0x2b2d('0x4'),_0x22de63(_0x327094,_0x2b2d('0x0')),{'priority':_0x2b2d('0x1d')}),_0x327094[_0x2b2d('0xf')][_0x2b2d('0x1a')]['on'](_0x2b2d('0x21'),(_0x507cad,_0x64ac14,_0x211971)=>{const _0x3480b2=_0x211971['mapper'][_0x2b2d('0x9')](_0x64ac14['markerName']);if(_0x3480b2)for(const _0x24e69b of _0x3480b2)_0x24e69b['hasClass'](_0x2b2d('0x18'))&&(_0x211971[_0x2b2d('0x1b')][_0x2b2d('0x12')](_0x24e69b,_0x64ac14[_0x2b2d('0x16')]),_0x211971[_0x2b2d('0x1')][_0x2b2d('0xc')](_0x24e69b));},{'priority':'high'}),_0x327094[_0x2b2d('0xb')][_0x2b2d('0x1a')]['on']('addMarker:suggestion:insertion',(_0x583f76,_0x22798c,_0x475e93)=>{_0x475e93['options']['showSuggestionHighlights']&&_0x22de63(_0x327094,_0x2b2d('0x0'),{'showActiveMarker':!0x1})(_0x583f76,_0x22798c,_0x475e93);},{'priority':_0x2b2d('0x1d')});}}