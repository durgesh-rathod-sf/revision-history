/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x166682}from'ckeditor5/src/core';export default class tt extends _0x166682{['afterInit'](){const _0x4aeca0=this['editor'];if(!_0x4aeca0['plugins']['has']('ListEditing'))return;const _0x1a7c32=_0x4aeca0['plugins']['get']('TrackChangesEditing'),_0x5b2573=_0x4aeca0['plugins']['has']('TodoListEditing');function _0x193e0d(_0x2d14e5){return()=>{const _0x38f242=_0x4aeca0['model']['document']['selection'],_0x29a18d=_0x4aeca0['commands']['get'](_0x2d14e5);if(_0x29a18d['value'])return void _0x4aeca0['execute']('paragraph',{});const _0x4e4586=_0x2d14e5['slice'](0x0,-0x4),_0x1d0a5e=function(_0x5d30ab,_0x5d9d81,_0x7ea7b1){let _0x3ef630=Array['from'](_0x5d30ab)['filter'](_0x4336b7=>function(_0x402639,_0x6ac0ed){return _0x6ac0ed['checkChild'](_0x402639['parent'],'listItem')&&!_0x6ac0ed['isObject'](_0x402639);}(_0x4336b7,_0x7ea7b1));_0x3ef630=_0x3ef630['filter'](_0x55f56e=>!_0x55f56e['is']('element','listItem')||_0x55f56e['getAttribute']('listType')!=_0x5d9d81);const _0x14380e=new Set();for(const _0x29f0e5 of _0x3ef630)_0x29f0e5['is']('element','listItem')?_0x14380e['add'](Zt(_0x29f0e5)):_0x14380e['add'](_0x29f0e5);return Array['from'](_0x14380e);}(_0x38f242['getSelectedBlocks'](),_0x4e4586,_0x4aeca0['model']['schema']);_0x4aeca0['model']['change'](()=>{for(const _0x204c06 of _0x1d0a5e)_0x1a7c32['markBlockFormat'](_0x204c06,{'commandName':_0x2d14e5,'commandParams':[{'forceValue':!_0x29a18d['value']}],'formatGroupId':'blockName'},$t(_0x204c06));});};}function _0x144840(_0x37c1a2){return()=>{const _0x216bba=function(_0x3966f4){const _0x3ff6ad=(_0x3966f4=Array['from'](_0x3966f4))['findIndex'](_0x35432b=>'listItem'!=_0x35432b['name']);return _0x3ff6ad>-0x1&&(_0x3966f4=_0x3966f4['slice'](0x0,_0x3ff6ad)),_0x3966f4;}(_0x4aeca0['model']['document']['selection']['getSelectedBlocks']()),_0x4a1b7b=_0x4aeca0['model']['createRange'](_0x4aeca0['model']['createPositionAt'](_0x216bba[0x0],'before'),_0x4aeca0['model']['createPositionAt'](_0x216bba[_0x216bba['length']-0x1],'end'));_0x4aeca0['model']['change'](()=>{_0x1a7c32['markBlockFormat'](_0x4a1b7b,{'commandName':_0x37c1a2,'commandParams':[],'formatGroupId':'listIndent'},function(_0x34c958){const _0x4f04f6=new Set();for(const _0x2a2c73 of _0x34c958){let _0x53b967=_0x2a2c73['nextSibling'];for(;_0x53b967&&_0x53b967['getAttribute']('listIndent')>_0x2a2c73['getAttribute']('listIndent');)_0x4f04f6['add'](_0x53b967),_0x53b967=_0x53b967['nextSibling'];}return Array['from'](_0x4f04f6);}(_0x216bba));});};}_0x1a7c32['enableCommand']('numberedList',_0x193e0d('numberedList')),_0x1a7c32['enableCommand']('bulletedList',_0x193e0d('bulletedList')),_0x5b2573&&_0x1a7c32['enableCommand']('todoList',_0x193e0d('todoList')),_0x1a7c32['enableCommand']('indentList',_0x144840('indentList')),_0x1a7c32['enableCommand']('outdentList',_0x144840('outdentList')),_0x5b2573&&_0x1a7c32['enableCommand']('checkTodoList',()=>{const _0x2b0eb7=_0x4aeca0['commands']['get']('checkTodoList'),_0x18c2d7=Array['from'](_0x2b0eb7['_selectedElements']);_0x18c2d7['filter'](_0xa59f01=>_0xa59f01['getAttribute']('todoListChecked')!=_0x2b0eb7['value']),_0x4aeca0['model']['change'](()=>{for(const _0x1b1233 of _0x18c2d7)_0x1a7c32['markBlockFormat'](_0x1b1233,{'commandName':'checkTodoList','commandParams':[{'forceValue':!_0x2b0eb7['value']}]});});});const {t:t}=_0x4aeca0['locale'];_0x1a7c32['_descriptionFactory']['registerElementLabel']('listItem',_0xc159c9=>t({'string':'list\x20item','plural':'%0\x20list\x20items','id':'ELEMENT_LIST_ITEM'},_0xc159c9)),_0x1a7c32['_descriptionFactory']['registerDescriptionCallback'](_0x365dfc=>{const {data:_0x44d963}=_0x365dfc;if(_0x44d963){if('numberedList'==_0x44d963['commandName']||'bulletedList'==_0x44d963['commandName']||'todoList'==_0x44d963['commandName'])switch(_0x44d963['commandName']['replace']('List','')){case'bulleted':return _0x45eb29(t({'string':'bulleted\x20list','id':'ELEMENT_BULLETED_LIST'}));case'numbered':return _0x45eb29(t({'string':'numbered\x20list','id':'ELEMENT_NUMBERED_LIST'}));case'todo':return _0x45eb29(t({'string':'to-do\x20list','id':'ELEMENT_TODO_LIST'}));}if('indentList'==_0x44d963['commandName'])return{'type':'format','content':t('*Indent:*\x20%0',t({'string':'list\x20item','id':'ELEMENT_LIST_ITEM'}))};if('outdentList'==_0x44d963['commandName'])return{'type':'format','content':t('*Outdent:*\x20%0',t({'string':'list\x20item','id':'ELEMENT_LIST_ITEM'}))};if('checkTodoList'==_0x44d963['commandName'])return _0x44d963['commandParams'][0x0]['forceValue']?{'type':'format','content':t('*Check\x20item*')}:{'type':'format','content':t('*Uncheck\x20item*')};}function _0x45eb29(_0x104cac){return{'type':'format','content':t('*Change\x20to:*\x20%0',_0x104cac)};}});}}function Zt(_0x5d6c30){const _0x138f5f=_0x5d6c30['getAttribute']('listIndent');if(0x0==_0x138f5f)return _0x5d6c30;let _0x585881=_0x5d6c30;for(;_0x5d6c30['previousSibling']&&_0x5d6c30['previousSibling']['is']('element','listItem');){const _0x6c8c30=_0x5d6c30['previousSibling']['getAttribute']('listIndent');if(_0x6c8c30==_0x138f5f)_0x585881=_0x5d6c30['previousSibling'];else{if(_0x6c8c30<_0x138f5f)break;}_0x5d6c30=_0x5d6c30['previousSibling'];}return _0x585881;}function $t(_0x54c182){const _0x51494d=[];if(_0x54c182['is']('element','listItem')&&_0x54c182['getAttribute']('listIndent')>0x0){let _0x4c4d88=_0x54c182['nextSibling'];for(;_0x4c4d88&&'listItem'==_0x4c4d88['name']&&_0x4c4d88['getAttribute']('listIndent')==_0x54c182['getAttribute']('listIndent');)_0x51494d['push'](_0x4c4d88),_0x4c4d88=_0x4c4d88['nextSibling'];}return _0x51494d;}