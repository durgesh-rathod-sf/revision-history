/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x5bcd71}from'ckeditor5/src/core';import{ShiftEnter as _0xc9573}from'ckeditor5/src/enter';export default class at extends _0x5bcd71{static get['requires'](){return[_0xc9573];}['init'](){const _0x143509=this['editor'],_0x18dab8=_0x143509['plugins']['get']('TrackChangesEditing'),t=_0x143509['t'];_0x18dab8['enableCommand']('shiftEnter'),_0x143509['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',re(_0x143509),{'priority':'high'}),_0x143509['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',re(_0x143509),{'priority':'high'}),_0x143509['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x222b52,_0xc90805,_0x46cfeb)=>{_0x46cfeb['options']['showSuggestionHighlights']&&re(_0x143509,{'showActiveMarker':!0x1})(_0x222b52,_0xc90805,_0x46cfeb);}),_0x18dab8['_descriptionFactory']['registerElementLabel']('softBreak',_0x41a77f=>t({'id':'ELEMENT_LINE_BREAK','string':'line\x20break','plural':'%0\x20line\x20breaks'},_0x41a77f));}}function re(_0x52b106,{showActiveMarker:_0x207ba5=!0x0}={}){return(_0xb26e42,_0xda326e,_0x6e7e24)=>{const _0xb6b472=_0x52b106['plugins']['get']('TrackChangesEditing');if(!_0x6e7e24['consumable']['test'](_0xda326e['markerRange'],_0xb26e42['name']))return;const _0x2a6e27=_0x52b106['model'];for(const _0x20f7f1 of _0xda326e['markerRange']['getItems']()){if(!_0x20f7f1['is']('element','softBreak'))continue;const _0x38ec87='deletion'==_0xda326e['markerName']['split'](':')[0x1]?'merge':'split',_0x596d64=_0x6e7e24['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x38ec87}),_0x259bfa=_0x6e7e24['mapper']['toViewPosition'](_0x2a6e27['createPositionBefore'](_0x20f7f1));_0x207ba5&&_0xb6b472['activeMarkers']['includes'](_0xda326e['markerName'])&&_0x6e7e24['writer']['addClass']('ck-suggestion-marker--active',_0x596d64),_0x6e7e24['writer']['insert'](_0x259bfa,_0x596d64),_0x6e7e24['mapper']['bindElementToMarker'](_0x596d64,_0xda326e['markerName']);}};}