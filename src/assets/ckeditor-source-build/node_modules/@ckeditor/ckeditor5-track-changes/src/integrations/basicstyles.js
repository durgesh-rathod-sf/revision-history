/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x19c422}from'ckeditor5/src/core';import{getRangesWithAttribute as Rt}from'./utils';const Ft=['BoldEditing','ItalicEditing','UnderlineEditing','CodeEditing','StrikethroughEditing','SubscriptEditing','SuperscriptEditing'];export default class G extends _0x19c422{['afterInit'](){const _0x36222a=this['editor'],_0x1562ff=_0x36222a['model'],_0x5046e0=_0x36222a['plugins']['get']('TrackChangesEditing'),{t:t}=_0x36222a['locale'];for(const _0x3e2460 of Ft){if(!_0x36222a['plugins']['has'](_0x3e2460))continue;const _0x483ed5=_0x3e2460['slice'](0x0,-0x7)['toLowerCase'](),_0x2539c8=_0x36222a['commands']['get'](_0x483ed5);_0x5046e0['enableCommand'](_0x483ed5,(_0x351788,_0x2dde52={})=>{const _0x5191f3=_0x1562ff['document']['selection'];if(_0x5191f3['isCollapsed'])return void _0x351788(_0x2dde52);const _0x3b2aec=void 0x0!==_0x2dde52['forceValue']?_0x2dde52['forceValue']:!_0x2539c8['value'];_0x1562ff['change'](()=>{const _0x2177c0=Array['from'](_0x5191f3['getRanges']());for(const _0x394252 of _0x2177c0){const _0x5466ce=_0x3b2aec?[_0x394252]:Rt(_0x483ed5,_0x394252,_0x1562ff);for(const _0x1e51e7 of _0x5466ce)_0x5046e0['markInlineFormat'](_0x1e51e7,{'commandName':_0x483ed5,'commandParams':[{'forceValue':_0x3b2aec}]});}});});}function _0x38e476(_0x2dca73,_0x284945){_0x5046e0['_descriptionFactory']['registerDescriptionCallback'](_0x13fceb=>{const {data:_0x1814b1}=_0x13fceb;if(_0x1814b1&&_0x1814b1['commandName']===_0x2dca73)return _0x1814b1['commandParams'][0x0]['forceValue']?{'type':'format','content':t('*Format:*\x20%0',_0x284945)}:{'type':'format','content':t('*Remove\x20format:*\x20%0',_0x284945)};});}_0x38e476('bold',t({'string':'bold','id':'FORMAT_BOLD'})),_0x38e476('italic',t({'string':'italic','id':'FORMAT_ITALIC'})),_0x38e476('underline',t({'string':'underline','id':'FORMAT_UNDERLINE'})),_0x38e476('code',t({'string':'code','id':'FORMAT_CODE'})),_0x38e476('strikethrough',t({'string':'strikethrough','id':'FORMAT_STRIKETHROUGH'})),_0x38e476('subscript',t({'string':'subscript','id':'FORMAT_SUBSCRIPT'})),_0x38e476('superscript',t({'string':'superscript','id':'FORMAT_SUPERSCRIPT'}));}}