/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x38156a}from'ckeditor5/src/core';import{getElementsAffectedByListItemRename as _0x57a6a9}from'./utils';export default class J extends _0x38156a{['afterInit'](){const _0x3b9d82=this['editor'],{t:t}=_0x3b9d82['locale'],_0x5625c0=_0x3b9d82['config']['get']('heading.options');if(!_0x3b9d82['plugins']['has']('HeadingEditing'))return;const _0x47474e=_0x3b9d82['plugins']['get']('TrackChangesEditing');_0x47474e['enableCommand']('heading',(_0x3238d9,_0x11586d)=>{const _0x157258=_0x11586d['value'],_0x46ee09=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']())['filter'](_0x380558=>function(_0x45fdd1,_0x394bcf,_0x33e7b0){return _0x33e7b0['checkChild'](_0x45fdd1['parent'],_0x394bcf)&&!_0x33e7b0['isObject'](_0x45fdd1)&&_0x45fdd1['name']!=_0x394bcf;}(_0x380558,_0x157258,this['editor']['model']['schema']));_0x3b9d82['model']['change'](()=>{for(const _0x427a04 of _0x46ee09)_0x47474e['markBlockFormat'](_0x427a04,{'commandName':'heading','commandParams':[_0x11586d],'formatGroupId':'blockName'},_0x57a6a9(_0x427a04));});});for(const _0x96666f of _0x5625c0)'paragraph'!=_0x96666f['model']&&_0x47474e['_descriptionFactory']['registerElementLabel'](_0x96666f['model'],_0x4821e6=>{const _0x5b9a84=tn(_0x96666f['model']);return null!==_0x5b9a84?_0xa4b300(_0x4821e6,_0x5b9a84):_0x50c7db(_0x4821e6,_0x96666f['title']);});function _0xa4b300(_0x4621e5,_0x19699a){return t({'string':'heading\x20(level\x20%1)','plural':'%0\x20headings\x20(level\x20%1)','id':'ELEMENT_HEADING'},[_0x4621e5,_0x19699a]);}function _0x50c7db(_0x196ff4,_0x5a31b2){return t({'string':'heading\x20(%1)','plural':'%0\x20headings\x20(%1)','id':'ELEMENT_HEADING_CUSTOM'},[_0x196ff4,_0x5a31b2]);}_0x47474e['_descriptionFactory']['registerDescriptionCallback'](_0x2d5a18=>{const {type:_0x5b30b8,data:_0x37a305}=_0x2d5a18;if('formatBlock'==_0x5b30b8&&_0x37a305&&'heading'==_0x37a305['commandName']){const _0xb491dd=_0x37a305['commandParams'][0x0]['value'],_0x573078=tn(_0xb491dd);if(null!==_0x573078)return{'type':'format','content':t('*Change\x20to:*\x20%0',_0xa4b300(0x1,_0x573078))};const _0x2a0ded=_0x5625c0['find'](_0x2827ee=>_0x2827ee['model']===_0xb491dd)['title'];return{'type':'format','content':t('*Change\x20to:*\x20%0',_0x50c7db(0x1,_0x2a0ded))};}});}}function tn(_0x28ef52){const _0x18f3b1=_0x28ef52['match'](/^heading(\d+)$/);return _0x18f3b1?_0x18f3b1[0x1]:null;}