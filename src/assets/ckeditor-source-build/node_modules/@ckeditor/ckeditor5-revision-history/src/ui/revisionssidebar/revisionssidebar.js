/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1494=['assign','nameRevision','_revisionViewer','bind','Compare\x20against\x20selected','get','data','Name\x20this\x20revision','revisionHistory','_revisionsRepository','_revisions','init','config','getEarlierVisibleRevision','listenTo','getLaterVisibleRevision','setName','availableRevisionActions','getIndex','requires','repository','_createRevisionActions','Restore\x20this\x20revision','name','isReady','locale','action','change:diff','_handleRevisionSelected','_sidebarView','newRevisionId','appendChild','timePeriodViews','isEnabled','selectRevision','editor','getRevision','ready','revisionSetName','remove','destroy','isSelected','defaultRevisionActions','diff','pluginName','_handleRevisionSetName','compare','string','isVisible','element','compareAgainstSelected','length','restoreRevisionCallback','getRevisionsInDiff','revisionHistory.revisionActions','_handleDiffChange','add','plugins','_handleEditorDataReady','select','map'];(function(_0xc49a86,_0x149469){const _0x3f6caf=function(_0xdede0d){while(--_0xdede0d){_0xc49a86['push'](_0xc49a86['shift']());}};_0x3f6caf(++_0x149469);}(_0x1494,0x97));const _0x3f6c=function(_0xc49a86,_0x149469){_0xc49a86=_0xc49a86-0x0;let _0x3f6caf=_0x1494[_0xc49a86];return _0x3f6caf;};import{Plugin as _0x45686a}from'ckeditor5/src/core';import _0x5aed88 from'./revisionssidebarview';import _0x52ea04 from'../../revisionviewer';export default class y extends _0x45686a{static get[_0x3f6c('0xf')](){return'RevisionsSidebar';}static get[_0x3f6c('0x33')](){return[_0x52ea04];}constructor(_0x24f9ea){super(_0x24f9ea),this['_revisionViewer']=_0x24f9ea[_0x3f6c('0x1c')][_0x3f6c('0x25')](_0x52ea04),this['_revisionsRepository']=this[_0x3f6c('0x22')][_0x3f6c('0x34')],this[_0x3f6c('0x0')]=null;}[_0x3f6c('0x2b')](){const _0xda47c8=this[_0x3f6c('0x29')][_0x3f6c('0x2a')],_0x170cb1=this[_0x3f6c('0x35')](),_0x55e8f6=this['editor'][_0x3f6c('0x2c')]['get']('revisionHistory.viewerSidebarContainer');this[_0x3f6c('0x0')]=new _0x5aed88(this[_0x3f6c('0x6')][_0x3f6c('0x39')],_0xda47c8,_0x170cb1),this[_0x3f6c('0x0')]['on']('revisionSelected',this[_0x3f6c('0x3c')][_0x3f6c('0x23')](this)),this[_0x3f6c('0x0')]['on'](_0x3f6c('0x9'),this[_0x3f6c('0x10')][_0x3f6c('0x23')](this)),this[_0x3f6c('0x0')]['bind']('isEnabled')['to'](this['_revisionViewer']),this[_0x3f6c('0x0')][_0x3f6c('0x3')]['on'](_0x3f6c('0x1b'),(_0x1e80d1,_0x4a715d)=>{_0x4a715d['revisionViews']['on'](_0x3f6c('0x1b'),(_0x3662d2,_0x3d2f30)=>{_0x3d2f30[_0x3f6c('0x23')](_0x3f6c('0x4'),_0x3f6c('0x38'))['to'](this[_0x3f6c('0x22')]);});}),this['_sidebarView']['render'](),this[_0x3f6c('0x2e')](this[_0x3f6c('0x6')][_0x3f6c('0x26')],_0x3f6c('0x8'),this[_0x3f6c('0x1d')]['bind'](this)),this[_0x3f6c('0x2e')](this['_revisionViewer'],_0x3f6c('0x3b'),this[_0x3f6c('0x1a')][_0x3f6c('0x23')](this)),_0x55e8f6[_0x3f6c('0x2')](this[_0x3f6c('0x0')][_0x3f6c('0x14')]);}[_0x3f6c('0xb')](){this[_0x3f6c('0x0')]['element'][_0x3f6c('0xa')](),this['_sidebarView'][_0x3f6c('0xb')]();}[_0x3f6c('0x1d')](){const _0x1c5c97=this[_0x3f6c('0x29')][_0x3f6c('0x7')](0x0);if(_0x1c5c97){const _0x38ed94=this[_0x3f6c('0x29')]['getEarlierVisibleRevision'](_0x1c5c97['id']);this[_0x3f6c('0x22')][_0x3f6c('0x11')](_0x1c5c97,_0x38ed94);}}[_0x3f6c('0x3c')](_0x48fdd5,_0x14e74f){const _0x37c5eb=this[_0x3f6c('0x29')][_0x3f6c('0x7')](_0x14e74f['id']),_0x561463=this[_0x3f6c('0x29')][_0x3f6c('0x2d')](_0x37c5eb['id']);this[_0x3f6c('0x22')]['compare'](_0x37c5eb,_0x561463);}['_handleRevisionSetName'](_0x1b7702,_0x62a4c0){this[_0x3f6c('0x29')][_0x3f6c('0x7')](_0x62a4c0['id'])[_0x3f6c('0x30')](_0x62a4c0[_0x3f6c('0x37')]);}[_0x3f6c('0x1a')](_0xc7eb20,_0x20509b,_0x5f04f2){const _0x5903a5=this[_0x3f6c('0x29')]['getRevisionsInDiff'](_0x5f04f2);_0x5903a5['length']>0x2?(this[_0x3f6c('0x0')]['highlightRevisions'](_0x5903a5),this['_sidebarView']['selectRevision'](null)):(this[_0x3f6c('0x0')]['highlightRevisions']([]),this[_0x3f6c('0x0')][_0x3f6c('0x5')](_0x5903a5[0x0]));}['_createRevisionActions'](){const _0x3412b5=this['editor'],_0x30cb92=y[_0x3f6c('0x31')],_0x41aa36=_0x3412b5[_0x3f6c('0x2c')]['get'](_0x3f6c('0x19'))||y[_0x3f6c('0xd')];if(_0x41aa36['length'])return _0x41aa36[_0x3f6c('0x1f')](_0x25d778=>{const _0x113a29=_0x3f6c('0x12')==typeof _0x25d778?Object[_0x3f6c('0x20')]({},_0x30cb92[_0x25d778]):_0x25d778;return _0x113a29[_0x3f6c('0x3a')]=_0x113a29[_0x3f6c('0x3a')][_0x3f6c('0x23')](this,_0x3412b5),_0x113a29['isVisible']&&(_0x113a29['isVisible']=_0x113a29[_0x3f6c('0x13')][_0x3f6c('0x23')](this,_0x3412b5)),_0x113a29;});}}y['availableRevisionActions']={'compareAgainstSelected':{'name':_0x3f6c('0x24'),'action':({plugins:_0x323989},_0x4a3a3d)=>{const _0x4819c6=_0x323989[_0x3f6c('0x25')](_0x52ea04),_0x5aba76=_0x4819c6[_0x3f6c('0x34')];let _0x133310=_0x4819c6['diff'][_0x3f6c('0x1')],_0x79bd46=_0x4a3a3d['id'];_0x5aba76[_0x3f6c('0x32')](_0x133310)>_0x5aba76[_0x3f6c('0x32')](_0x79bd46)&&([_0x133310,_0x79bd46]=[_0x79bd46,_0x133310]),_0x4819c6[_0x3f6c('0x11')](_0x133310,_0x79bd46);},'isVisible':({plugins:_0x2fae18},_0x198bb0)=>{const _0x115182=_0x2fae18[_0x3f6c('0x25')](_0x52ea04);return!(_0x115182[_0x3f6c('0x34')][_0x3f6c('0x18')](_0x115182[_0x3f6c('0xe')])[_0x3f6c('0x16')]>0x2)&&!_0x198bb0[_0x3f6c('0xc')];}},'restoreRevision':{'name':_0x3f6c('0x36'),'action':(_0x115a7f,{id:_0x18c0ca})=>{_0x115a7f[_0x3f6c('0x2c')]['get'](_0x3f6c('0x28'))[_0x3f6c('0x17')](_0x18c0ca);},'isVisible':({plugins:_0x100698},_0x1c0768)=>!!_0x100698['get'](_0x52ea04)[_0x3f6c('0x34')][_0x3f6c('0x2f')](_0x1c0768['id'])},'nameRevision':{'name':_0x3f6c('0x27'),'action':({plugins:_0x41f44},{id:_0x5dd539,revisionNameView:_0x3da5e2})=>{const _0x5e9426=_0x41f44[_0x3f6c('0x25')](_0x52ea04),_0x4bd05c=_0x5e9426[_0x3f6c('0x34')][_0x3f6c('0x2d')](_0x5dd539);_0x5e9426[_0x3f6c('0x11')](_0x5dd539,_0x4bd05c),_0x3da5e2['focus'](),_0x3da5e2['fieldView'][_0x3f6c('0x1e')]();}}},y[_0x3f6c('0xd')]=[_0x3f6c('0x15'),'restoreRevision',_0x3f6c('0x21')];