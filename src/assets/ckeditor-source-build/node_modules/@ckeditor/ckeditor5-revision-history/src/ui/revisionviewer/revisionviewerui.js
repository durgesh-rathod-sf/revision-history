/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x650dcd}from'ckeditor5/src/core';import{ButtonView as _0x33dfbf}from'ckeditor5/src/ui';import _0x5c1fcc from'./changesnavigationview';import _0x1c343e from'./../../revisionviewer';import _0x25feaa from'./revisionviewerloadingoverlay';import te from'@ckeditor/ckeditor5-undo/theme/icons/undo.svg';import'../../../theme/revisionviewer.css';export default class d extends _0x650dcd{static get['pluginName'](){return'RevisionViewerUI';}static get['requires'](){return[_0x1c343e,_0x25feaa];}['init'](){const _0x1ff1c8=this['editor'],_0x5176d4=_0x1ff1c8['plugins']['get'](_0x1c343e),_0x3348ff=_0x1ff1c8['plugins']['get'](_0x25feaa),t=_0x1ff1c8['t'];_0x1ff1c8['ui']['componentFactory']['add']('exitToEditing',_0x25ceb1=>{const _0x8b5fbe=new _0x33dfbf(_0x25ceb1);return _0x8b5fbe['set']({'label':t('Back\x20to\x20editing'),'icon':te,'withText':!0x0,'tooltip':!0x0,'class':'ck-revision-history-ui__back-to-editing'}),this['listenTo'](_0x8b5fbe,'execute',()=>{_0x1ff1c8['config']['get']('revisionHistory')['closeRevisionViewerCallback']();}),_0x8b5fbe;}),_0x1ff1c8['ui']['componentFactory']['add']('restoreRevision',_0x19c791=>{const _0x1bd240=new _0x33dfbf(_0x19c791);return _0x1bd240['set']({'label':t('Restore\x20this\x20revision'),'withText':!0x0,'tooltip':!0x0}),_0x1bd240['bind']('isEnabled')['to'](_0x1ff1c8['commands']['get']('restoreRevision')),this['listenTo'](_0x1bd240,'execute',()=>_0x1ff1c8['execute']('restoreRevision')),_0x1bd240;}),_0x1ff1c8['ui']['componentFactory']['add']('changesNavigation',_0xbfedbf=>{const _0x7fc23c=new _0x5c1fcc(_0xbfedbf),_0x2ee7f3=_0x1ff1c8['commands']['get']('showPreviousChange'),_0xdbe3d6=_0x1ff1c8['commands']['get']('showNextChange');return _0x7fc23c['bind']('isBackwardNavigationEnabled')['to'](_0x2ee7f3,'isEnabled'),_0x7fc23c['bind']('isForwardNavigationEnabled')['to'](_0xdbe3d6,'isEnabled'),_0x7fc23c['bind']('isReady','currentChangeNumber','numberOfChanges','isNavigationMode')['to'](_0x5176d4),this['listenTo'](_0x7fc23c,'execute',(_0x168d65,_0x4b5e96)=>{_0x1ff1c8['execute']('forward'===_0x4b5e96?'showNextChange':'showPreviousChange');}),_0x7fc23c;}),_0x3348ff['show'](),_0x5176d4['on']('change:isReady',(_0x28dab5,_0x1820c9,_0x1ada9c)=>{_0x1ada9c?_0x3348ff['hide']():_0x3348ff['show']();});}}