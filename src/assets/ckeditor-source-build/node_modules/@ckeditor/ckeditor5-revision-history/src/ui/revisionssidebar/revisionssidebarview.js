/*
 *             Copyright (c) 2016 - 2022, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4ca3=['render','bindTemplate','removeRevision','delegate','highlightRevisions','selectRevision','ck-revision-history-sidebar','highlight','ck-revision-history-sidebar__timeline','map','_revisionActions','timePeriodViews','setName','add','isEnabled','_removeRevision','set','revisionSetName','addRevision','createdAt','some','select','revisionSelected','div','remove','find','_revisions','startDate','_addRevision','ck-disabled','deselect','createCollection','revisionViews','getTime','ck-rounded-corners','locale','_getTimePeriodViewByStartDate'];(function(_0x39b24f,_0x4ca3c3){const _0x14e76a=function(_0x6644be){while(--_0x6644be){_0x39b24f['push'](_0x39b24f['shift']());}};_0x14e76a(++_0x4ca3c3);}(_0x4ca3,0x73));const _0x14e7=function(_0x39b24f,_0x4ca3c3){_0x39b24f=_0x39b24f-0x0;let _0x14e76a=_0x4ca3[_0x39b24f];return _0x14e76a;};import{View as _0x4352e7}from'ckeditor5/src/ui';import _0x15d399 from'./revisionssidebartimeperiodview';import _0x49afb2 from'./revisionssidebarheaderview';import{getDateTimePeriodInfo as _0x3199b8}from'./utils';import'../../../theme/revisionssidebar/revisionssidebar.css';export default class ni extends _0x4352e7{constructor(_0x411ea3,_0x42059d,_0x1d1fa3){super(_0x411ea3);const _0x47e0b5=this[_0x14e7('0x22')];this['timePeriodViews']=this[_0x14e7('0x1b')](),this[_0x14e7('0x7')][_0x14e7('0x24')]('select')['to'](this),this[_0x14e7('0x7')][_0x14e7('0x24')](_0x14e7('0x8'))['to'](this),this['_revisions']=_0x42059d,this[_0x14e7('0x6')]=_0x1d1fa3,this['on'](_0x14e7('0x11'),(_0x4278ca,_0x44c9aa)=>{this['fire'](_0x14e7('0x12'),_0x44c9aa);}),this['on']('setName',(_0x4c5d2d,_0x1a3d13)=>{this['fire'](_0x14e7('0xd'),_0x1a3d13);}),this[_0x14e7('0xc')](_0x14e7('0xa'),!0x1),this['setTemplate']({'tag':_0x14e7('0x13'),'attributes':{'class':['ck','ck-reset',_0x14e7('0x1e'),_0x14e7('0x2')]},'children':[new _0x49afb2(_0x411ea3),{'tag':'div','attributes':{'class':['ck',_0x14e7('0x4'),_0x47e0b5['if'](_0x14e7('0xa'),_0x14e7('0x19'),_0x29235b=>!_0x29235b)]},'children':this[_0x14e7('0x7')]}]});}[_0x14e7('0x21')](){super['render']();for(const _0x18f69a of this[_0x14e7('0x16')])this[_0x14e7('0x18')](_0x18f69a);this[_0x14e7('0x16')]['on'](_0x14e7('0x9'),(_0x21b869,_0x2012b7)=>{this[_0x14e7('0x18')](_0x2012b7);}),this['_revisions']['on'](_0x14e7('0x14'),(_0x1f296b,_0x54fd0f)=>{this['_removeRevision'](_0x54fd0f);});}get[_0x14e7('0x1c')](){return this[_0x14e7('0x7')]['map'](_0x5aad6f=>_0x5aad6f[_0x14e7('0x1c')][_0x14e7('0x5')](_0xebe3bc=>_0xebe3bc))['flat']();}[_0x14e7('0x1')](_0x1ffc70){for(const _0x33f194 of this[_0x14e7('0x1c')])_0x1ffc70&&_0x1ffc70['id']===_0x33f194['id']?_0x33f194[_0x14e7('0x11')]():_0x33f194[_0x14e7('0x1a')]();}[_0x14e7('0x0')](_0x55be12){for(const _0x286675 of this['revisionViews'])_0x55be12[_0x14e7('0x10')](({id:_0x1ad92a})=>_0x1ad92a===_0x286675['id'])?_0x286675[_0x14e7('0x3')]():_0x286675['unhighlight']();}[_0x14e7('0x18')](_0x4b1ddf){const _0x57b14b=_0x3199b8(_0x4b1ddf[_0x14e7('0xf')])['startDate'];let _0x4547a8=this[_0x14e7('0x7')]['get'](0x0);_0x4547a8&&_0x4547a8['startDate']['getTime']()===_0x57b14b[_0x14e7('0x1d')]()||(_0x4547a8=new _0x15d399(this[_0x14e7('0x1f')],_0x57b14b,this['_revisionActions']),this['timePeriodViews'][_0x14e7('0x9')](_0x4547a8)),_0x4547a8[_0x14e7('0xe')](_0x4b1ddf);}[_0x14e7('0xb')](_0x21f6f0){const _0xe71f3c=_0x3199b8(_0x21f6f0[_0x14e7('0xf')])[_0x14e7('0x17')];this[_0x14e7('0x20')](_0xe71f3c)[_0x14e7('0x23')](_0x21f6f0);}['_getTimePeriodViewByStartDate'](_0x3ccc20){return this[_0x14e7('0x7')][_0x14e7('0x15')](_0x339016=>_0x339016[_0x14e7('0x17')]['getTime']()===_0x3ccc20[_0x14e7('0x1d')]());}}